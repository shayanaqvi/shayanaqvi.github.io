<!DOCTYPE html>
<html>
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>Shayan Naqvi - Change your Linux distribution and keep your data! </title>
    <link rel="stylesheet" type="text/css" href="/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="/css/fontawesome.css">
    
    
    <link rel="stylesheet" type="text/css" href="/css/styles.min.e0ab07baf7651832fca42423151a71d980687b8b938db644e93fc72bc9815639.css">
    
    
    <meta charset="UTF-8">
    <meta name="author" content="Shayan Naqvi">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
</head>
<body>
<header class="page-header">
    <div class="myname"> 
        <h2><a href="http://localhost:1313/">Shayan Naqvi</a></h2> 
    </div>
    <nav>
        <ul class="navbar">
            <li class="">
                <a href="/">
                    <span>Home</span>
                </a>
            </li>
            <li class="">
                <a href="/now/">
                    <span>Now</span>
                </a>
            </li>
            <li class="">
                <a href="/blog/">
                    <span>Blog</span>
                </a>
            </li>
            <li class="">
                <a href="/works/works/">
                    <span>Works</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<div id="content">
    <main>
        <article>
            
            <h1 class="page-title blog">Change your Linux distribution and keep your data!</h1>
            
                <p class="blog-post-info">Posted: <time>2024-05-21</time>
                
    <span class="blog-taxonomy-info"> &nbsp; | &nbsp; Categories:
        
        
        
        <a class="blog-taxonomy-info" href="/categories/computers">Computers</a>, <a class="blog-taxonomy-info" href="/categories/linux">Linux</a>
    </span>



</p>

                <div class="blog-post-content">
                <p>I remember watching an LTT vdeo about Linux when I started out with this operating system. He mentioned how easy it was to change your Linux distribution while keeping all your data. I&rsquo;ve since learned how to do that, so I&rsquo;ll be writing about that here.</p>
<p>You can, of course, copy your data to an external drive and restore from there. You can also not do that and keep your data on your internal disk.</p>
<p>The deal is such: you can do this only if you&rsquo;ve partitioned your drive a certain way. The configuration I&rsquo;m familiar with and use is 4 separate partitions, but as far as I know this can work on as few as 2. I&rsquo;ll go over the configuration with 4.</p>
<p>The 4 paritions you&rsquo;ll need are as such:</p>
<ul>
<li>
<p><strong>Swap partition</strong></p>
<p>Some research is required to fit your own specifications! Suggestions are all over the place, but generally if you have little RAM then about double that should be the size of your swap partition. If you have plenty of RAM, then to my knowledge, perhaps the same amount of swap space or even double.</p>
</li>
<li>
<p><strong>Boot partition</strong></p>
<p>You&rsquo;re going to have to do some of your own research to determine if you actually need one. I&rsquo;m not very familiar with the differences between UEFI and EFI systems, but there&rsquo;s something to do with that.</p>
<p>If you do need to make one, then this&rsquo;ll be FAT32, about half a gig, and mounted at <code>/boot/efi</code>.</p>
</li>
<li>
<p><strong>Root partition</strong> (storage for system files)</p>
<p>The minimum size I recall seeing for this was about 20 gigs, but I have heard of people having issues with that sort of size. Generally, about 50 gigs should be minimum. The format, if you don&rsquo;t know much about filesystems (like me), is EXT4. Mount this at <code>/</code> (the root, as it&rsquo;s called).</p>
</li>
<li>
<p><strong>Home partition</strong> (storage for your own files)</p>
<p>The bulk of your drive should be taken up by this partition, it&rsquo;s where you&rsquo;ll store all of your files. This is also EXT4, and mounted at <code>/home</code>.</p>
</li>
</ul>
<p>Below is a screenshot of how I&rsquo;ve set up my hard drive:</p>
<figure class="image-shortcode frame" 
         style="">
    <img src="/img/linux-keep-data/data.png"
         alt="Screenshot for reference!"/> <figcaption>
            <p>Screenshot for reference!</p>
        </figcaption>
</figure>

<p>Assuming your disk is set up as such, whenever you change your distribution of Linux, you can do the following:</p>
<ul>
<li>Format your boot partition</li>
<li>Format your swap partition</li>
<li>Format your root partition</li>
<li><em><strong>NOT</strong></em> format your home partition</li>
</ul>
<p>Also! When you set up your new user account, keep the username the same as before! Your data is stored in a folder named after your username in the <code>/home</code> partition, so if you choose a different username, your data will still exist, but not accessible to your new user.</p>
<p>I&rsquo;ve noticed that deleting most of your dotfiles before doing this tends to help the situation after installing a new image. Keep the ones you know you want, but get rid of the rest. Some things might look weird or act weird on your new installation otherwise.</p>

                </div>
                
                    
        </article>
    </main>

        </div><footer>
    <span></span>
</footer>
</body>
</html>
