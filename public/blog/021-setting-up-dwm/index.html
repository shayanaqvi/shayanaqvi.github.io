<!DOCTYPE html>
<html>
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>Shayan Naqvi - Setting up DWM </title>
    <link rel="stylesheet" type="text/css" href="/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="/css/fontawesome.css">
    
    
    <link rel="stylesheet" type="text/css" href="/css/styles.min.ea6816e5a4baff6d3ea86ad8e34bbe18cb3c007fb4d88465062b4afe41fae631.css">
    
    
    <meta charset="UTF-8">
    <meta name="author" content="Shayan Naqvi">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
</head>
<body>
<header class="page-header">
    <div class="myname"> 
        <h2><a href="http://localhost:1313/">Shayan Naqvi</a></h2> 
    </div>
    <nav>
        <ul class="navbar">
            <li class="">
                <a href="/">
                    <span>Home</span>
                </a>
            </li>
            <li class="">
                <a href="/now/">
                    <span>Now</span>
                </a>
            </li>
            <li class="">
                <a href="/blog/">
                    <span>Blog</span>
                </a>
            </li>
            <li class="">
                <a href="/works/works/">
                    <span>Works</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<div id="content">
    <main>
        <article>
            
            <h1 class="page-title blog">Setting up DWM</h1>
            
                <p class="blog-post-info">Posted: <time>2024-05-26</time>
                
    <span class="blog-taxonomy-info"> &nbsp; | &nbsp; Categories:
        
        
        
        <a class="blog-taxonomy-info" href="/categories/computers">Computers</a>, <a class="blog-taxonomy-info" href="/categories/linux">Linux</a>
    </span>



</p>

                <div class="blog-post-content">
                <p>It&rsquo;s a pretty long article, so here&rsquo;s a table of contents:</p>
<h1 id="table-of-contents">Table of Contents</h1>
<div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#table-of-contents">Table of Contents</a></li>
    <li><a href="#installation">Installation</a>
      <ul>
        <li><a href="#preamble">Preamble</a></li>
        <li><a href="#acquiring-the-source-code">Acquiring the source code</a></li>
        <li><a href="#building">Building</a></li>
      </ul>
    </li>
    <li><a href="#setup">Setup</a></li>
    <li><a href="#first-run">First run</a></li>
    <li><a href="#getting-function-keys-to-work">Getting function keys to work</a>
      <ul>
        <li><a href="#brightness">Brightness</a></li>
        <li><a href="#volume">Volume</a></li>
        <li><a href="#media-keys">Media keys</a>
          <ul>
            <li><a href="#are-you-a-user-of-mpd">Are you a user of MPD?</a></li>
            <li><a href="#are-you-not-a-user-of-mpd">Are you not a user of MPD?</a></li>
          </ul>
        </li>
        <li><a href="#chaining-commands-to-a-single-key">Chaining commands to a single key</a></li>
        <li><a href="#other-information">Other information</a></li>
      </ul>
    </li>
    <li><a href="#autostart">Autostart</a>
      <ul>
        <li><a href="#do-you-use-a-display-manager">Do you use a display manager?</a></li>
        <li><a href="#do-you-not-use-a-display-manager">Do you not use a display manager?</a></li>
        <li><a href="#plopping-your-startup-instructions">Plopping your startup instructions</a></li>
      </ul>
    </li>
    <li><a href="#starting-dwm">Starting DWM</a>
      <ul>
        <li><a href="#do-you-use-a-display-manager-1">Do you use a display manager?</a></li>
        <li><a href="#do-you-not-use-a-display-manager-1">Do you not use a display manager?</a></li>
      </ul>
    </li>
    <li><a href="#dbus">DBUS</a></li>
    <li><a href="#status-bar">Status bar</a></li>
    <li><a href="#miscellaneous">Miscellaneous</a>
      <ul>
        <li><a href="#locking-your-screen">Locking your screen</a></li>
        <li><a href="#wallpapers">Wallpapers</a></li>
        <li><a href="#compositingscreen-tearing">Compositing/screen tearing</a></li>
        <li><a href="#swapping-caps-lock-and-control">Swapping caps-lock and control</a></li>
      </ul>
    </li>
    <li><a href="#do-you-need-to-patch-dwm">Do you need to patch DWM?</a></li>
    <li><a href="#addendum">Addendum</a></li>
  </ul>
</nav>
</div>

<h1 id="installation">Installation</h1>
<h2 id="preamble">Preamble</h2>
<p>There are many better installation guides out here on the internet, but the gist of the procedure is generally the same. The only thing you&rsquo;re going to have to do some research on is the dependencies. Each Linux (or BSD) distribution is going to have different package names for each dependency.</p>
<p>On Void Linux:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>sudo xbps-install base-devel libX11-devel libXft-devel libXinerama-devel freetype-devel fontconfig-devel</span></span></code></pre></div>
<h2 id="acquiring-the-source-code">Acquiring the source code</h2>
<p>Next, create a directory where you&rsquo;ll store DWMs source code. Clone the repository there:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>git clone https://git.suckless.org/dwm</span></span></code></pre></div>
<p>Dmenu or ST aren&rsquo;t requirements, so install those only if you want to.</p>
<h2 id="building">Building</h2>
<p>It&rsquo;s pretty simple. Change your current directory to wherever DWM&rsquo;s source code is. In a terminal, type <code>make</code>. Then, <code>sudo make clean install</code>. On any subsequent compilations, you can just use <code>sudo make install</code>.</p>
<p>You&rsquo;ll need to rebuild DWM whenever you want to apply any tweaks you&rsquo;ve made to its configuration!</p>
<h1 id="setup">Setup</h1>
<p>You&rsquo;ve got DWM installed, but before we start it, let&rsquo;s make a quick change to the config file.</p>
<p>Open up <code>config.h</code> (located wherever you cloned the DWM source code) in a text editor. Search for &ldquo;termcmd&rdquo;. This sets the terminal that pops up by default. Change it to whatever your preferred terminal emulator is. I have it set as xfce4-terminal.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">termcmd</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;xfce4-terminal&#34;</span>, <span style="color:#728e00">NULL</span> };</span></span></code></pre></div>
<p>You could, if you wanted to, throw any extra commands in there that you&rsquo;d like to run whenever you open your terminal. We&rsquo;ll get to writing these kinds of commands in a bit.</p>
<p>While we&rsquo;re here, we might as well change the default modifier key. Out of the box, it&rsquo;s the alt key, which may interfere with other apps. We&rsquo;ll change that to the Windows/command key.</p>
<p>Still in config.h, search for &ldquo;MODKEY&rdquo;. Change whatever&rsquo;s in there to Mod4Mask. No need to patch or anything.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">#define MODKEY Mod4Mask</span></span></span></code></pre></div>
<h1 id="first-run">First run</h1>
<p>You&rsquo;ll see an almost blank screen, save for a bar at the top. The main thing you&rsquo;re going to want to do now is open a terminal. You can do this by pressing MODKEY+Shift+Enter.</p>
<p>We&rsquo;ll start tweaking our configuration file now.</p>
<h1 id="getting-function-keys-to-work">Getting function keys to work</h1>
<p>Nothing difficult at all!</p>
<p>At the top of <code>config.h</code>, add this line: <code>#include &lt;X11/XF86keysym.h&gt;</code>.</p>
<p>Keybindings in DWM work as such: you have to define a command first (this happens separately), then you bind that command to a key.</p>
<p>The main function keys I need are for brightness, volume and media control. We&rsquo;ll set that up now.</p>
<h2 id="brightness">Brightness</h2>
<p>Here&rsquo;s how we&rsquo;ll do brightness control. First, you&rsquo;ll have to install a package, which generally goes by the name of <em>brightnessctl</em>. If you happen to get permission errors when running the program, you&rsquo;ll need to add your current user to the video group. We&rsquo;ll do that as such: <code>usermod -aG video $USER</code>. Use root privilages if needed. You may need to reboot.</p>
<p>Pop these two lines into your <code>config.h</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">brighter</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;brightnessctl&#34;</span>, <span style="color:#7f8c8d">&#34;set&#34;</span>, <span style="color:#7f8c8d">&#34;10%+&#34;</span>, <span style="color:#728e00">NULL</span>, };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">dimmer</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;brightnessctl&#34;</span>, <span style="color:#7f8c8d">&#34;set&#34;</span>, <span style="color:#7f8c8d">&#34;10%-&#34;</span>, <span style="color:#728e00">NULL</span>, };</span></span></code></pre></div>
<p>You can change the name of the commands if you&rsquo;d like.</p>
<p>Now we&rsquo;ll bind the relevant keys to these commands. You&rsquo;ll find a section in your configuration file like this:</p>
<figure class="image-shortcode frame" 
         style="">
    <img src="/img/setting-up-dwm/dwm2-6.png"/> 
</figure>

<p>We&rsquo;ll define our own keybindings at the bottom of this list, underneath this area:</p>
<figure class="image-shortcode frame" 
         style="">
    <img src="/img/setting-up-dwm/dwm2-7.png"/> 
</figure>

<p>Pop these two lines down:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_MonBrightnessDown</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">dimmer</span> } },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_MonBrightnessUp</span>, <span style="color:#434f54">spawn</span>, {.<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">brighter</span>} },</span></span></code></pre></div>
<p>The leading 0 is present so that we don&rsquo;t need a modifier key to run these commands. Make sure you don&rsquo;t forget the comma at the end!</p>
<h2 id="volume">Volume</h2>
<p>I can&rsquo;t say for sure if this works with Pipewire. I happen to use Pulseaudio on my machine, and I do know that these commands work here. Under the commands section of your configuration file:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">up_vol</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;pactl&#34;</span>, <span style="color:#7f8c8d">&#34;set-sink-volume&#34;</span>, <span style="color:#7f8c8d">&#34;@DEFAULT_SINK&#34;</span>, <span style="color:#7f8c8d">&#34;+5%&#34;</span>, <span style="color:#728e00">NULL</span> };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">down_vol</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;pactl&#34;</span>, <span style="color:#7f8c8d">&#34;set-sink-volume&#34;</span>, <span style="color:#7f8c8d">&#34;@DEFAULT_SINK@&#34;</span>, <span style="color:#7f8c8d">&#34;-5%&#34;</span>, <span style="color:#728e00">NULL</span> };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">mute_vol</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;pactl&#34;</span>, <span style="color:#7f8c8d">&#34;set-sink-volume&#34;</span>, <span style="color:#7f8c8d">&#34;@DEFAULT_SINK@&#34;</span>, <span style="color:#7f8c8d">&#34;toggle&#34;</span>, <span style="color:#728e00">NULL</span> };</span></span></code></pre></div>
<p>Then, wherever your keybindings are:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_AudioMute</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">mute_vol</span> } },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_AudioLowerVolume</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">down_vol</span> } },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_AudioRaiseVolume</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">up_vol</span> } },</span></span></code></pre></div>
<h2 id="media-keys">Media keys</h2>
<p>There are a few ways you could go about this.</p>
<h3 id="are-you-a-user-of-mpd">Are you a user of MPD?</h3>
<p>No? Move on to the next section.</p>
<p>If you are, you have two options. If you&rsquo;re like me and just want your media keys to do nothing but play/pause audio from MPD, then we&rsquo;ll do the following.</p>
<p>Firstly, install <code>mpc</code>. The commands we&rsquo;ll use are:</p>
<ul>
<li><code>mpc toggle</code></li>
<li><code>mpc next</code></li>
<li><code>mpc prev</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">playpause</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;mpc&#34;</span>, <span style="color:#7f8c8d">&#34;toggle&#34;</span>, <span style="color:#728e00">NULL</span> };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">nextsong</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;mpc&#34;</span>, <span style="color:#7f8c8d">&#34;next&#34;</span>, <span style="color:#728e00">NULL</span> };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">prevsong</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;mpc&#34;</span>, <span style="color:#7f8c8d">&#34;prev&#34;</span>, <span style="color:#728e00">NULL</span> };</span></span></code></pre></div>
<p>Then:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_AudioPlay</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">playpause</span> } },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_AudioPrev</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">prevsong</span> } },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_AudioNext</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">nextsong</span> } },</span></span></code></pre></div>
<p>Alternatively, if you&rsquo;d like to be able to control all of your media through the media keys, including MPD, then you&rsquo;ll
need a package generally named something along the lines of <em>mpDris</em> (it allows you to control MPD with MPRIS). Install that, then we&rsquo;ll make it work in the following section.</p>
<h3 id="are-you-not-a-user-of-mpd">Are you not a user of MPD?</h3>
<p>Install a package, generally known as <em>playerctl</em>. We&rsquo;ll use the following commands:</p>
<ul>
<li><code>playerctl play-pause</code></li>
<li><code>playerctl next</code></li>
<li><code>playerctl previous</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">playpause</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;playerctl&#34;</span>, <span style="color:#7f8c8d">&#34;play-pause&#34;</span>, <span style="color:#728e00">NULL</span> };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">nextsong</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;playerctl&#34;</span>, <span style="color:#7f8c8d">&#34;next&#34;</span>, <span style="color:#728e00">NULL</span> };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#728e00">static</span> <span style="color:#728e00">const</span> <span style="color:#00979d">char</span> <span style="color:#728e00">*</span><span style="color:#434f54">prevsong</span>[] <span style="color:#728e00">=</span> { <span style="color:#7f8c8d">&#34;playerctl&#34;</span>, <span style="color:#7f8c8d">&#34;previous&#34;</span>, <span style="color:#728e00">NULL</span> };</span></span></code></pre></div>
<p>Then bind these commands to the appropriate keys, as shown <a href="https://shayanaqvi.github.io/articles/24-setting-up-dwm.html#media-keys">here</a>.</p>
<h2 id="chaining-commands-to-a-single-key">Chaining commands to a single key</h2>
<p>If you want to chain multiple commands to a single key, you can simply define individual commands for the things you&rsquo;d like to do, then bind both of those commands to the same key. Here&rsquo;s an example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_Eject</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">zero_brightness</span> } },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>{ <span style="color:#8a7b52">0</span>, <span style="color:#434f54">XF86XK_Eject</span>, <span style="color:#434f54">spawn</span>, { .<span style="color:#434f54">v</span> <span style="color:#728e00">=</span> <span style="color:#434f54">lock</span> } },</span></span></code></pre></div>
<p>The code above will lock the screen and set the backlight to zero.</p>
<h2 id="other-information">Other information</h2>
<p>That&rsquo;s function keys set up.</p>
<p>If you want a list of the names of all of the function keys, check out the <a href="https://wiki.linuxquestions.org/wiki/XF86_keyboard_symbols">XF86 keyboard symbols</a>.</p>
<p>If you&rsquo;d like to figure out the name of a specific key, install and run <code>xev</code>. Run that from a terminal, and check the output. You&rsquo;re going to have to do some digging to find the name of the currently pressed key in the output.</p>
<figure class="image-shortcode frame" 
         style="">
    <img src="/img/setting-up-dwm/dwm2-13.png"/> 
</figure>

<p>Be careful though! Moving your mouse is also going to show output in this program.</p>
<h1 id="autostart">Autostart</h1>
<h2 id="do-you-use-a-display-manager">Do you use a display manager?</h2>
<p>Plop your startup instructions in <code>~/.xprofile</code>.</p>
<h2 id="do-you-not-use-a-display-manager">Do you not use a display manager?</h2>
<p>Plop your startup instructions in <code>~/.xinitrc</code>.</p>
<h2 id="plopping-your-startup-instructions">Plopping your startup instructions</h2>
<p>It&rsquo;s the same procedure whether or not you use a display manager. You literally just list a bunch of shell commands. Here&rsquo;s mine:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#95a5a6"># Autostart Section</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>sct <span style="color:#8a7b52">5500</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>/usr/bin/setxkbpmap -option <span style="color:#7f8c8d">&#34;ctrl:swapcaps&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>nitrogen --restore</span></span></code></pre></div>
<p>Ensure your <code>.xprofile</code> or <code>.xinitrc</code> is executable!</p>
<h1 id="starting-dwm">Starting DWM</h1>
<h2 id="do-you-use-a-display-manager-1">Do you use a display manager?</h2>
<p>You&rsquo;ll need to create a file. Let&rsquo;s call it dwm.desktop. Put the following content in it:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">[</span>Desktop Entry<span style="color:#728e00">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#434f54">Encoding</span><span style="color:#728e00">=</span>UTF-8
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#434f54">Name</span><span style="color:#728e00">=</span>DWM
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#434f54">Comment</span><span style="color:#728e00">=</span>Dynamic Window Manager
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#434f54">Exec</span><span style="color:#728e00">=</span>/usr/locla/bin/dwm
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#434f54">Type</span><span style="color:#728e00">=</span>XSession</span></span></code></pre></div>
<p>Place this file in <code>/usr/share/xsessions</code>. Then select DWM from your display manager.</p>
<h2 id="do-you-not-use-a-display-manager-1">Do you not use a display manager?</h2>
<p>We&rsquo;ll put this in <code>~/.xinitrc</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">exec</span> /usr/local/bin/dwm</span></span></code></pre></div>
<p>Then, whenever you login to your TTY, simply type startx. Beware that commands placed after this line will not run, think of this as the EOF of your <code>.xinitrc</code>.</p>
<h1 id="dbus">DBUS</h1>
<p>If you&rsquo;re having issues with DBUS on DWM specifically, such as apps not starting or MRPIS not working, then there&rsquo;s probably something to do with DBUS.</p>
<p>I had this issue, and this is how I solved it. Since I don&rsquo;t use a display manager, I just put the following into <code>~/.xinitrc</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">exec</span> dbus-launch --exit-with-session /usr/local/bin/dwm</span></span></code></pre></div>
<p>I suspect you could do the same in your <code>dwm.desktop</code> file, but I am not sure.</p>
<h1 id="status-bar">Status bar</h1>
<p>If you don&rsquo;t want to use any of the new-fangled status bars, you can do the following.</p>
<p>Firstly, install <em>xsetroot</em>.</p>
<p>We&rsquo;ll set up a loop in your <code>.xinitrc</code> or <code>.xprofile</code>. This is my loop as of now:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#728e00">while</span> true; <span style="color:#728e00">do</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>	xsetroot -name <span style="color:#7f8c8d">&#34;</span><span style="color:#728e00">$(</span> playerctl metadata --format <span style="color:#7f8c8d">&#39;{{ artist }} - {{ album }} - {{ title }} | $( date + &#39;</span>%F %R:%S<span style="color:#a61717">&#39;</span> <span style="color:#728e00">)</span><span style="color:#7f8c8d">&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#728e00">done</span> &amp;</span></span></code></pre></div>
<p>As you can see, this is just a bunch of shell commands, with some manual formatting. This code produces a status bar as such:</p>
<figure class="image-shortcode frame" 
         style="">
    <img src="/img/setting-up-dwm/dwm2-17.png"/> 
</figure>

<p>Essentially, you&rsquo;ll be using <code>xsetroot -name</code> and then insert your commands inside a single string. Wrap each command with <code>$()</code>. For example, <code>$(date)</code>. String together multiple commands like these, be creative with your formatting, and you&rsquo;ll get a pretty good status bar. You can even have icons by using unicode iconography!</p>
<h1 id="miscellaneous">Miscellaneous</h1>
<h2 id="locking-your-screen">Locking your screen</h2>
<p>There&rsquo;s a bajillion ways you could do this, but I do it through <em>i3lock</em>. The command I use to lock my screen is as such: <code>i3lock --color=000000</code>.</p>
<h2 id="wallpapers">Wallpapers</h2>
<p>You can install <em>nitrogen</em>. Point it to wherever your wallpapers are, and you can set them from there.</p>
<h2 id="compositingscreen-tearing">Compositing/screen tearing</h2>
<p>Screen tearing is an issue you&rsquo;ll find on window managers if you don&rsquo;t use a compositor. Unfortunately, I do not have much experience here, so I&rsquo;m gonna hand you over to the internet.</p>
<h2 id="swapping-caps-lock-and-control">Swapping caps-lock and control</h2>
<p>This isn&rsquo;t remotely related to DWM but it&rsquo;s such a nice quality of life improvement, especially with window managers.</p>
<p>You can do this through this command: <code>/usr/bin/setxkbmap -option &quot;ctrl:swapcaps&quot;</code>. Now, your caps lock key will act as control, and control will act as caps lock. You can place this command in your <code>~/.xprofile</code> or <code>~/.xinitrc</code> to have it execute when you log in.</p>
<h1 id="do-you-need-to-patch-dwm">Do you need to patch DWM?</h1>
<p>Resounding no unless there&rsquo;s actually something you need. Patching DWM is a very messy process, so save yourself the pain by not doing that. If you find yourself needing many patches (perfectly reasonable), you&rsquo;re probably better off using another window manager. That&rsquo;ll give you a much better experience! Window managers such as Qtile or i3 are also great!</p>
<h1 id="addendum">Addendum</h1>
<p>I&rsquo;ve tried to cover most of the things I dealt with when I started with DWM, but inevitably, there are going to be missing things. The internet is your best friend! The ArchWiki too!</p>
<p>A nice guide to actually using DWM: <a href="https://ratfactor.com/dwm">Dave&rsquo;s Visual Guide to DWM</a>.</p>
<figure class="image-shortcode frame" 
         style="">
    <img src="/img/setting-up-dwm/dwm2-18.png"
         alt="Enjoy!"/> <figcaption>
            <p>Enjoy!</p>
        </figcaption>
</figure>


                </div>
                
                    
        </article>
    </main>

        </div><footer>
    <span></span>
</footer>
</body>
</html>
